import r from"media-typer";import e from"mime-types";var t={};var n=r;var a=e;t=typeofrequest;t.is=typeis;t.hasBody=hasbody;t.normalize=normalize;t.match=mimeMatch;function typeis(r,e){var t;var n=e;var a=tryNormalizeType(r);if(!a)return false;if(n&&!Array.isArray(n)){n=new Array(arguments.length-1);for(t=0;t<n.length;t++)n[t]=arguments[t+1]}if(!n||!n.length)return a;var i;for(t=0;t<n.length;t++)if(mimeMatch(normalize(i=n[t]),a))return"+"===i[0]||-1!==i.indexOf("*")?a:i;return false}function hasbody(r){return void 0!==r.headers["transfer-encoding"]||!isNaN(r.headers["content-length"])}function typeofrequest(r,e){var t=e;if(!hasbody(r))return null;if(arguments.length>2){t=new Array(arguments.length-1);for(var n=0;n<t.length;n++)t[n]=arguments[n+1]}var a=r.headers["content-type"];return typeis(a,t)}function normalize(r){if("string"!==typeof r)return false;switch(r){case"urlencoded":return"application/x-www-form-urlencoded";case"multipart":return"multipart/*"}return"+"===r[0]?"*/*"+r:-1===r.indexOf("/")?a.lookup(r):r}function mimeMatch(r,e){if(false===r)return false;var t=e.split("/");var n=r.split("/");return 2===t.length&&2===n.length&&(("*"===n[0]||n[0]===t[0])&&("*+"===n[1].substr(0,2)?n[1].length<=t[1].length+1&&n[1].substr(1)===t[1].substr(1-n[1].length):"*"===n[1]||n[1]===t[1]))}function normalizeType(r){var e=n.parse(r);e.parameters=void 0;return n.format(e)}function tryNormalizeType(r){if(!r)return null;try{return normalizeType(r)}catch(r){return null}}var i=t;const o=t.is,l=t.hasBody,s=t.match;const u=t.normalize;export default i;export{l as hasBody,o as is,s as match,u as normalize};

