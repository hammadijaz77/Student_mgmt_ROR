var e="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var t={};function EventEmitter(){(this||e)._events=(this||e)._events||{};(this||e)._maxListeners=(this||e)._maxListeners||void 0}t=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=void 0;EventEmitter.prototype._maxListeners=void 0;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(t){if(!isNumber(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");(this||e)._maxListeners=t;return this||e};EventEmitter.prototype.emit=function(t){var i,n,s,r,o,h;(this||e)._events||((this||e)._events={});if("error"===t&&(!(this||e)._events.error||isObject((this||e)._events.error)&&!(this||e)._events.error.length)){i=arguments[1];if(i instanceof Error)throw i;var v=new Error('Uncaught, unspecified "error" event. ('+i+")");v.context=i;throw v}n=(this||e)._events[t];if(isUndefined(n))return false;if(isFunction(n))switch(arguments.length){case 1:n.call(this||e);break;case 2:n.call(this||e,arguments[1]);break;case 3:n.call(this||e,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1);n.apply(this||e,r)}else if(isObject(n)){r=Array.prototype.slice.call(arguments,1);h=n.slice();s=h.length;for(o=0;o<s;o++)h[o].apply(this||e,r)}return true};EventEmitter.prototype.addListener=function(t,i){var n;if(!isFunction(i))throw TypeError("listener must be a function");(this||e)._events||((this||e)._events={});(this||e)._events.newListener&&this.emit("newListener",t,isFunction(i.listener)?i.listener:i);(this||e)._events[t]?isObject((this||e)._events[t])?(this||e)._events[t].push(i):(this||e)._events[t]=[(this||e)._events[t],i]:(this||e)._events[t]=i;if(isObject((this||e)._events[t])&&!(this||e)._events[t].warned){n=isUndefined((this||e)._maxListeners)?EventEmitter.defaultMaxListeners:(this||e)._maxListeners;if(n&&n>0&&(this||e)._events[t].length>n){(this||e)._events[t].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",(this||e)._events[t].length);"function"===typeof console.trace&&console.trace()}}return this||e};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(t,i){if(!isFunction(i))throw TypeError("listener must be a function");var n=false;function g(){this.removeListener(t,g);if(!n){n=true;i.apply(this||e,arguments)}}g.listener=i;this.on(t,g);return this||e};EventEmitter.prototype.removeListener=function(t,i){var n,s,r,o;if(!isFunction(i))throw TypeError("listener must be a function");if(!(this||e)._events||!(this||e)._events[t])return this||e;n=(this||e)._events[t];r=n.length;s=-1;if(n===i||isFunction(n.listener)&&n.listener===i){delete(this||e)._events[t];(this||e)._events.removeListener&&this.emit("removeListener",t,i)}else if(isObject(n)){for(o=r;o-- >0;)if(n[o]===i||n[o].listener&&n[o].listener===i){s=o;break}if(s<0)return this||e;if(1===n.length){n.length=0;delete(this||e)._events[t]}else n.splice(s,1);(this||e)._events.removeListener&&this.emit("removeListener",t,i)}return this||e};EventEmitter.prototype.removeAllListeners=function(t){var i,n;if(!(this||e)._events)return this||e;if(!(this||e)._events.removeListener){0===arguments.length?(this||e)._events={}:(this||e)._events[t]&&delete(this||e)._events[t];return this||e}if(0===arguments.length){for(i in(this||e)._events)"removeListener"!==i&&this.removeAllListeners(i);this.removeAllListeners("removeListener");(this||e)._events={};return this||e}n=(this||e)._events[t];if(isFunction(n))this.removeListener(t,n);else if(n)while(n.length)this.removeListener(t,n[n.length-1]);delete(this||e)._events[t];return this||e};EventEmitter.prototype.listeners=function(t){var i;i=(this||e)._events&&(this||e)._events[t]?isFunction((this||e)._events[t])?[(this||e)._events[t]]:(this||e)._events[t].slice():[];return i};EventEmitter.prototype.listenerCount=function(t){if((this||e)._events){var i=(this||e)._events[t];if(isFunction(i))return 1;if(i)return i.length}return 0};EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)};function isFunction(e){return"function"===typeof e}function isNumber(e){return"number"===typeof e}function isObject(e){return"object"===typeof e&&null!==e}function isUndefined(e){return void 0===e}var i=t;export default i;

