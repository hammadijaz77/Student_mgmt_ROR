import r from"buffer";var t={};var e=r.Buffer;t.stringify=function stringify(r){if("undefined"==typeof r)return r;if(r&&e.isBuffer(r))return JSON.stringify(":base64:"+r.toString("base64"));r&&r.toJSON&&(r=r.toJSON());if(r&&"object"===typeof r){var t="";var i=Array.isArray(r);t=i?"[":"{";var n=true;for(var f in r){var s="function"==typeof r[f]||!i&&"undefined"===typeof r[f];if(Object.hasOwnProperty.call(r,f)&&!s){n||(t+=",");n=false;i?void 0==r[f]?t+="null":t+=stringify(r[f]):void 0!==r[f]&&(t+=stringify(f)+":"+stringify(r[f]))}}t+=i?"]":"}";return t}return"string"===typeof r?JSON.stringify(/^:/.test(r)?":"+r:r):"undefined"===typeof r?"null":JSON.stringify(r)};t.parse=function(r){return JSON.parse(r,(function(r,t){return"string"===typeof t?/^:base64:/.test(t)?e.from(t.substring(8),"base64"):/^:/.test(t)?t.substring(1):t:t}))};const i=t.stringify,n=t.parse;export default t;export{n as parse,i as stringify};

